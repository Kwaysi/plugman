(this["webpackJsonpinngle-react"]=this["webpackJsonpinngle-react"]||[]).push([[0],{116:function(e,t,a){},117:function(e,t,a){},118:function(e,t,a){},148:function(e,t){},151:function(e,t,a){},152:function(e,t,a){},153:function(e,t,a){},155:function(e,t,a){},156:function(e,t,a){},157:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(30),i=a.n(c),l=(a(80),a(81),a(21)),o=a(16),s=a(11),u=a(12),m=a(69),d=a(2),f="LOADINGSTART",p="LOADINGEND",v={loading:!1},b="SETTITLE",h="SETUSERDATA",E="SETDARKMODE",g="SETFINISHEDAUTHENTICATIONATTEMPT",y=window.innerWidth>800,k=function(e){return function(t){var a=e.title||e,n=e.image||"",r=e.icon||"";document.title="".concat(a,"   - Inngle "),!y&&a.length>20&&(a=a.substring(0,20)+" ..."),t({type:b,payload:{title:a,image:n,icon:r}})}},N="dark-mode",O="DONT-ASK-dark-mode",x="SERVER-URL";function w(e){var t=document.querySelector("body");t&&(t.className="true"===e||!0===e?"bg-app-dark":"bg-app-default")}var j=function(e){return localStorage.setItem(x,e)},C=function(){return localStorage.getItem(x)},S=function(e){return w(e),localStorage.setItem(N,e)},T=function(){var e=localStorage.getItem(N);return w(e),e},F=function(e){return localStorage.setItem(O,e)},R=function(){return localStorage.getItem(O)},A={title:"",userData:{name:"ayo"},finishedAuthenticationAttempt:!1,darkMode:"true"===T()},I=a(13),M="SET_NOTIFICATION_AS_READ",D="SET_NOTIFICATIONS",L="ADD_NOTIFICATION",q="SET_SOCKET_STATUS",_="SET_TRACKERS",z="ADD_ACTIVITY",H=function(e){return function(t){t({type:_,payload:e})}},V={status:{},tracker:{},activities:[]},U=Object(u.c)({network:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:v,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case f:return Object(d.a)({},e,{loading:!0});case p:return Object(d.a)({},e,{loading:!1});default:return e}},app:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:A,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case b:return Object(d.a)({},e,{title:t.payload});case E:var a=!e.darkMode;return S(a+""),Object(d.a)({},e,{darkMode:!e.darkMode});default:return e}},notifications:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case M:var a=Object(I.a)(e);return a[t.payload].read=!0,Object(I.a)(a);case L:var n=Object(I.a)(e);return n.unshift(t.payload),Object(I.a)(n);case D:return Object(I.a)(t.payload);default:return e}},socket:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:V,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case q:return Object(d.a)({},e,{status:t.payload});case _:return Object(d.a)({},e,{tracker:t.payload});case z:return Object(d.a)({},e,{activities:[].concat(Object(I.a)(e.activities),[t.payload])});default:return e}}}),B=a(86),W=[m.a],J=Object(u.d)(u.a.apply(void 0,W));B.prod||(J=Object(u.d)(u.a.apply(void 0,W),window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__()));var P=Object(u.e)(U,{},J),X=a(15),Y=a.n(X),G=a(44),K=a.n(G),$=a(70),Q=a(1),Z=(a(116),a(6)),ee=a(9),te=function(){return"a"+Math.random().toString(36).substring(2,15)+Math.random().toString(36).substring(2,15)},ae=function(){function e(){var t=this;Object(Z.a)(this,e),this.time=400,this.ref=void 0,this.active=!1,this.start=function(e,a){t.ref&&clearTimeout(t.ref),t.active=!0,a&&(t.time=a);t.ref=setTimeout((function(){e(),t.active=!1}),t.time)}}return Object(ee.a)(e,[{key:"destroy",value:function(){clearTimeout(this.ref)}}]),e}(),ne=function e(t){var a=this;Object(Z.a)(this,e),this.initialValue=null,this.lastValue=null,this.fns={},this.next=function(e){a.lastValue=e,a.subscribe()},this.subscribe=function(e,t){var n;if(e&&(n=te(),a.fns[n]=e),a.fns&&Object.values(a.fns).forEach((function(e){e(a.lastValue)})),e)return{unSubscribe:function(){delete a.fns[n],0===Object.keys(a.fns).length&&(a.lastValue=a.initialValue)}}},this.lastValue=t,this.initialValue=t},re=(new ne(!0),new ne(null)),ce=new ne(!1),ie=new ne(null),le=new ne(null),oe=new ne(null),se=new ne(null),ue=new ne(null),me=new ne(null),de=new ne(null),fe=[new ae,new ae],pe=function(e,t){var a=t||5e3;ie.next(Object(d.a)({},e,{incoming:!0})),e.attention?ie.next(Object(d.a)({},e,{incoming:!0})):(fe[0].start((function(){return ie.next(null)}),a),fe[1].start((function(){return ie.next(Object(d.a)({},e,{incoming:!1}))}),a-500))},ve=function(e,t){return new Promise((function(a,n){de.next({text:e,value:t,cb:function(e,t){t?n(e):a(e)}})}))};a(117);a(118);var be,he,Ee=Object(s.b)((function(e){return{app:e.app,notifications:e.notifications}}),{setTitle:k})((function(e){var t=Object(n.useState)(!1),a=Object(Q.a)(t,2),c=(a[0],a[1],Object(n.useState)(function(){var e=(new Date).getHours();return e<12?"Good Morning":e<16?"Good Afternoon":e<21?"Good Evening":"Good Night"}())),i=Object(Q.a)(c,2),l=i[0];return i[1],Object(n.useEffect)((function(){e.setTitle("Dashboard")}),[]),e.app.userData,r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"row"},r.a.createElement("div",{style:{borderRadius:"30px"},className:"bg-primary text-white col-12 col-md-6"},r.a.createElement("div",{className:"p-3"},r.a.createElement("h3",null,l,r.a.createElement("br",null),"Ready to get started !")))))})),ge=function(){return!window.location.host.match("localhost")},ye=(ge(),ge(),a(32)),ke={},Ne=function(){function e(){var t=this;Object(Z.a)(this,e),this.time=400,this.ref=void 0,this.active=!1,this.start=function(e,a){t.ref&&clearTimeout(t.ref),t.active=!0,a&&(t.time=a);t.ref=setTimeout((function(){e(),t.active=!1}),t.time)}}return Object(ee.a)(e,[{key:"destroy",value:function(){clearTimeout(this.ref)}}]),e}();function Oe(){var e,t;navigator.userAgent.match(/ipad|iphone/i)?((e=document.createRange()).selectNodeContents(be),(t=window.getSelection()).removeAllRanges(),t.addRange(e),be.setSelectionRange(0,999999)):be.select()}he=function(e){!function(e){(be=document.createElement("textArea")).value=e,document.body.appendChild(be)}(e),Oe(),document.execCommand("copy"),document.body.removeChild(be)};var xe=[],we={},je=function(){function e(){Object(Z.a)(this,e)}return Object(ee.a)(e,null,[{key:"persist",value:function(){localStorage.setItem("storage",JSON.stringify(xe))}},{key:"load",value:function(){xe=JSON.parse(localStorage.getItem("storage")||"[]")}},{key:"modifyAll",value:function(e){Ce.next(e)}},{key:"setData",value:function(e){xe=e}},{key:"generateRequestHash",value:function(){!function e(t){t.forEach((function(t){t.isFolder?e(t.children||[]):we[t.id]=t}))}(xe)}},{key:"getRequestHash",value:function(){return we}},{key:"getRequestFromId",value:function(e){return we[e]}},{key:"treeDataModifier",value:function(){var t,a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1?arguments[1]:void 0,r=arguments.length>2?arguments[2]:void 0,c=arguments.length>3?arguments[3]:void 0,i=n.split("/").filter((function(e){return e})),l=0;function o(n,r){var c=!1;l==i.length-1&&(c=!0);var s=r||JSON.parse(JSON.stringify(xe));if(0==i.length)return n&&n(null,s),e.setData(s),a.emit&&Ce.next(xe),{c:null,collectionTree:s};var u,m=i[l],d=Object(ye.a)(s);try{for(d.s();!(u=d.n()).done;){var f=u.value;if(f.id==m)return t=f,f.isFolder&&l<i.length-1&&(l++,o(n,f.children)),n&&c&&n(f,s),e.setData(s),a.emit&&Ce.next(xe),{c:t,collectionTree:s}}}catch(p){d.e(p)}finally{d.f()}}try{return o(r,c)}catch(s){return null}}}]),e}();je.load(),je.generateRequestHash();var Ce=new function e(t){var a=this;Object(Z.a)(this,e),this.initialValue=null,this.lastValue=null,this.fns={},this.next=function(e){a.lastValue=e,a.subscribe()},this.subscribe=function(e,t){var n;if(e&&(n="a"+Math.random().toString(36).substring(2,15)+Math.random().toString(36).substring(2,15),a.fns[n]=e),a.fns&&Object.values(a.fns).forEach((function(e){e(a.lastValue)})),e)return{unSubscribe:function(){delete a.fns[n],0===Object.keys(a.fns).length&&(a.lastValue=a.initialValue)}}},this.lastValue=t,this.initialValue=t}(xe),Se=je,Te=a(33),Fe=a(71),Re=a.n(Fe),Ae={},Ie={},Me={},De=new(function(){function e(){Object(Z.a)(this,e),this.socket=void 0,this.host=void 0}return Object(ee.a)(e,[{key:"initialize",value:function(e){var t=this;this.host=e,this.socket=Re()(e),this.socket.on("connect",(function(){t.emitActivity("listen","connect"),Me.connected=!0,t.next()})),this.socket.on("disconnect",(function(){t.disconnect()}))}},{key:"initializeAndListen",value:function(e){var t=this;this.initialize(e),Object(Te.setTimeout)((function(){var e=je.getRequestHash();Object.values(e).forEach((function(e){"emit"==e.type&&e.event&&t.emit(e.id,e.event,e.emitBody),"listen"==e.type&&e.event&&t.listen(e.id,e.event)}))}),5e3)}},{key:"next",value:function(){var e;P.dispatch((e=Me,function(t){t({type:q,payload:e})}))}},{key:"emitActivity",value:function(e,t,a){P.dispatch(function(e){return function(t){t({type:z,payload:e})}}({type:e,event:t,data:a}))}},{key:"emitTracker",value:function(e,t){if(!e)return Ae={},void P.dispatch(H(Ae));t?Ae[e]=t:delete Ae[e],P.dispatch(H(Ae))}},{key:"removeFromTrackerIfExist",value:function(e){Ae[e]&&("listen"==Ae[e].type&&(delete Ie[Ae[e].event],this.socket.removeListener(Ae[e].event)),this.emitTracker(e))}},{key:"disconnect",value:function(){this.socket.destroy(),delete this.socket,this.socket=null,Me.connected=!1,this.emitActivity("listen","disconnect"),this.emitTracker(),this.next(),console.log("disconnecting")}},{key:"cancelListen",value:function(e,t){this.emitTracker(e),delete Ie[t],this.socket.removeListener(t)}},{key:"listen",value:function(e,t){var a=this;Ie[t]?pe({type:"danger",message:"<i class='fa fa-info mr-2 '> </i>  A request is already listening to this event \"<b>".concat(t,'</b>"')}):Ae[e]&&"listen"==Ae[e].type||(this.emitTracker(e,{type:"listen",event:t}),Ie[t]=e,this.socket.on(t,(function(e){a.emitActivity("listen",t,"string"==typeof e?e:JSON.stringify(e))})))}},{key:"emit",value:function(e,t,a){Ae[e]&&"listen"==Ae[e].type&&(delete Ie[t],this.socket.removeListener(t)),Ae[e]&&"emit"==Ae[e].type||this.emitTracker(e,{type:"emit",event:t}),this.socket.emit(t,a),this.emitActivity("emit",t,a)}},{key:"onMessage",value:function(e){if("modal"!==e.type&&"action"!==e.type)return"new-notification"===e.type?(P.dispatch(function(e){return function(t){t({type:L,payload:e})}}(e.data)),void pe({message:"1 new notification "})):void pe(e.data)}}]),e}());a(151);var Le=function(e){var t=Object(n.useRef)(null),a=e.zoom,c=e.dimInDark;return r.a.createElement("span",{className:"AsyncImage d-inline-block"},r.a.createElement("img",{ref:t,style:Object(d.a)({},e.style,{visibility:a?"hidden":"visible"}),className:e.className,alt:e.alt,src:e.src,loading:"lazy",onClick:e.onClick}),a&&r.a.createElement("img",{style:e.style,className:e.className+(a?" zoom":""),alt:e.alt,src:e.src,loading:"lazy",onClick:e.onClick}),c&&r.a.createElement("div",{className:"dark-overlay"}))};a(152),a(153);var qe=Object(s.b)((function(e){return{app:e.app,socket:e.socket}}),{setTitle:k})((function(e){var t=Object(n.useState)({"listen-connect":!0,"listen-disconnect":!0}),a=Object(Q.a)(t,2),c=a[0],i=a[1],l=Object(n.useRef)(null);return Object(n.useEffect)((function(){var t={};Object.values(e.socket.tracker).forEach((function(e){var a=e.type+"-"+e.event;t[a]=!0})),function(e){var t=Object(d.a)({},c);Object.keys(e).forEach((function(e){void 0==t[e]&&(t[e]=!0)})),i(t)}(t)}),[e.socket.tracker]),Object(n.useEffect)((function(){setTimeout((function(){var e;null===(e=l.current)||void 0===e||e.scrollTo({left:0,top:l.current.scrollHeight,behavior:"smooth"})}),500)}),[e.socket.activities]),r.a.createElement("div",{className:"Activity"},r.a.createElement("div",{className:"change-in-dark-1 mb-2",style:{marginTop:"5px"}}," Activity"),r.a.createElement("select",{className:"form-control"},r.a.createElement("option",{value:"all"},"All"),Object.keys(c).map((function(e,t){return r.a.createElement("option",{key:t,value:e},e)}))),r.a.createElement("br",null),r.a.createElement("div",{ref:l,style:{height:"calc(100vh - 180px)",overflow:"auto"}},e.socket.activities.map((function(t,a){var n="emit"==t.type;return r.a.createElement("div",{key:a},r.a.createElement("div",{className:"p-2 text-color-default border rounded "+(n?"border-primary":"border-secondary"),style:{marginLeft:n?"80px":"0px",marginRight:n?"0px":"80px"}},r.a.createElement("span",{style:{display:"block",textAlign:n?"right":"left"}},t.event," | ",t.type),t.data&&r.a.createElement("div",null,r.a.createElement(Y.a,{options:{readOnly:!0,lineNumbers:"off",scrollBeyondLastLine:!1,minimap:{enabled:!1},wordWrap:"on",automaticLayout:!0},theme:e.app.darkMode?"vs-dark":"plugman-light",height:"50px",value:t.data,language:"json"}))),r.a.createElement("br",null))}))))}));var _e=Object(s.b)((function(e){return{app:e.app,notifications:e.notifications,socket:e.socket}}),{setTitle:k})((function(e){var t=Object(n.useState)(!0),a=Object(Q.a)(t,2),c=a[0],i=a[1],l=Object(n.useState)(""),o=Object(Q.a)(l,2),s=o[0],u=o[1],m=Object(n.useState)(0),f=Object(Q.a)(m,2),p=f[0],v=f[1],b=Object(n.useState)(!1),h=Object(Q.a)(b,2),E=h[0],g=h[1],y=Object(n.useState)(!0),k=Object(Q.a)(y,2),N=k[0],O=k[1],x=Object(n.useState)([]),w=Object(Q.a)(x,2),j=w[0],C=w[1],S=Object(n.useState)(null),T=Object(Q.a)(S,2),F=T[0],R=T[1],A=Object(n.useRef)([]),M=Object(n.useRef)(!1),D=F&&"emit"==F.type?["EmitBody","Script"]:["ListenBody","Script"];function L(e){c&&i(!1),"name"!=e.target.name&&"type"!=e.target.name||(M.current=!0);var t=Object(d.a)({},F);t[e.target.name]=e.target.value,R(t)}function q(){Se.treeDataModifier({emit:M.current},s,(function(e){console.log({d:e}),Object.keys(F).forEach((function(t){e[t]=F[t]}))})),Se.generateRequestHash(),Se.persist(),i(!0)}function _(t){if(e.socket.status.connected)if("emit"==t){try{new Function(F.script)()(F.emitBody,(function(e){console.log({cb:e})}))}catch(a){}De.emit(F.id,F.event,F.emitBody)}else"listen"==t?De.listen(F.id,F.event):"cancel-listen"==t&&De.cancelListen(F.id,F.event);else pe({type:"danger",message:"<i class='fa fa-info mr-2 '> </i>  You are not connected"})}Object(n.useEffect)((function(){e.setTitle("Request")}),[]),Object(n.useEffect)((function(){return A.current.push(re.subscribe((function(e){if(e){if(-1==j.indexOf(e.tree)){var t=[].concat(Object(I.a)(j),[e.tree]);C(t)}c||q(),R(e.request),u(e.tree)}}))),function(){A.current.forEach((function(e){return e.unSubscribe()}))}}),[j,F]),e.app.userData,e.app.darkMode;var z=F&&e.socket.tracker[F.id]&&"listen"==e.socket.tracker[F.id].type,H=function(e,t,a){i(!1),"emit"==a&&R(Object(d.a)({},F,{emitBody:t})),"script"==a&&R(Object(d.a)({},F,{script:t}))};return r.a.createElement("div",{className:"Request h-100"},r.a.createElement("div",{className:"row h-100"},r.a.createElement("div",{className:"h-100 p-0 "+(e.app.darkMode?" bg-dark ":"")+(N?"border-right  col-md-9":"col-md-12")},r.a.createElement("div",{className:"pt-2 pl-2 pr-2 "+(e.app.darkMode?" bg-dark-light ":"bg-default-light"),style:{width:"100%",overflowX:"auto",overflowY:"hidden",whiteSpace:"nowrap"}},j.map((function(t,a){return r.a.createElement("span",{className:"cursor p-1 text-color-default "+(0==a?" ":"border-left ")+(t==s?e.app.darkMode?" bg-dark ":"bg-app":"")},r.a.createElement("span",{onClick:function(){return function(e){if(e!=s){c||q();var t=e.split("/"),a=t[t.length-1];R(Se.getRequestFromId(a)),u(e)}}(t)},className:"mr-1 small font-weight-bold"}," ",function(e){var t=e.split("/"),a=t[t.length-1];return Se.getRequestFromId(a).name}(t))," ",r.a.createElement("span",{onClick:function(){return function(e){console.log("delete ",e),e==s&&(q(),R(null),u("")),Array.from(j.keys());var t=j.filter((function(t){return t!=e}));C(t)}(t)}}," ",r.a.createElement("i",{className:"fa fa-close"}))," ")}))),r.a.createElement("div",{style:{height:"calc(100vh - 180px)",overflow:"auto"},className:"p-2"},F?r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"change-in-dark-1 mb-2",style:{marginTop:"5px"}},r.a.createElement("div",{className:"float-right"},r.a.createElement("div",{onClick:function(){return O(!N)},className:"cursor text-primary"},N?r.a.createElement(r.a.Fragment,null,r.a.createElement("i",{className:"fa fa-arrow-right"})):r.a.createElement(r.a.Fragment,null,r.a.createElement("i",{className:"fa fa-arrow-left"})))),r.a.createElement("div",null,r.a.createElement("span",{className:"cursor",onClick:function(){return g(!E)}},r.a.createElement("i",{style:{width:"15px"},className:" fa mr-1 "+(E?"fa-caret-down":"fa-caret-right")}),F.name)," ",r.a.createElement("span",{className:"cursor small ml-2",onClick:function(){}},r.a.createElement("i",{className:"fa fa-pen"}))),E&&r.a.createElement("div",{style:{marginLeft:"15px"},className:" small"},F.description?r.a.createElement(r.a.Fragment,null,F.description):r.a.createElement("small",{className:"cursor",onClick:function(){}},"Add discription",r.a.createElement("i",{className:"fa fa-pen ml-2"})))),r.a.createElement("div",{className:"request-bar"},r.a.createElement("div",{className:"request-bar-item request-bar-item-1"},r.a.createElement("div",{className:"input-group"},r.a.createElement("div",{className:"input-group-prepend"},r.a.createElement("select",{disabled:"listen"==F.type&&z,name:"type",onChange:L,value:F.type,className:"form-control"},r.a.createElement("option",{value:"emit"},"Emit"),r.a.createElement("option",{value:"listen"}," Listen"))),r.a.createElement("input",{type:"text",disabled:"listen"==F.type&&z,value:F.event,name:"event",onChange:L,className:"form-control",placeholder:"emit"==F.type?"Add emitter":"Add listener"}))),r.a.createElement("div",{className:"request-bar-item request-bar-item-2"},"emit"==F.type&&r.a.createElement("button",{onClick:function(){return _("emit")},className:"btn btn-secondary",type:"button"},"Emit"),"listen"==F.type&&r.a.createElement("button",{onClick:function(){return _(z?"cancel-listen":"listen")},className:"btn btn-secondary",type:"button"},z?"Cancel listener":"Listen")),r.a.createElement("div",{className:"request-bar-item request-bar-item-3"},!c&&r.a.createElement("button",{onClick:q,className:"btn btn-outline-secondary",type:"button"},"Save"))),r.a.createElement("br",null),r.a.createElement("div",{className:"text-color-default",style:{}},D.map((function(e,t){return r.a.createElement("div",{onClick:function(){return v(t)},key:t,className:"cell mr-2 p-2  d-inline cursor "+(p==t?"border-bottom border-secondary":""),style:{borderBottomWidth:"5px"}},e)}))),r.a.createElement("br",null),0==p&&"emit"==F.type&&r.a.createElement("div",null,r.a.createElement(X.ControlledEditor,{theme:e.app.darkMode?"vs-dark":"plugman-light",options:{minimap:{enabled:!1},wordWrap:"on"},height:"calc(100vh - 300px)",onChange:function(e,t){return H(0,t,"emit")},value:F.emitBody||"",language:"json"})),0==p&&"listen"==F.type&&r.a.createElement("div",null,r.a.createElement(X.ControlledEditor,{theme:e.app.darkMode?"vs-dark":"plugman-light",options:{minimap:{enabled:!1},wordWrap:"on",readOnly:!0},height:"calc(100vh - 300px)",value:F.listenerBody||"",language:"json"}),r.a.createElement("small",{className:"text-color-default"},"Listen body is automatically updated when this event is called")),1==p&&r.a.createElement("div",null,r.a.createElement(X.ControlledEditor,{onChange:function(e,t){return H(0,t,"script")},theme:e.app.darkMode?"vs-dark":"plugman-light",options:{minimap:{enabled:!1},wordWrap:"on"},height:"calc(100vh - 300px)",value:F.script||"",language:"javascript"}))):r.a.createElement("div",{style:{height:"calc(100vh - 200px)",display:"flex",alignItems:"center",justifyContent:"center"}},r.a.createElement("div",{className:"h4 change-in-dark-1 text-center"},r.a.createElement("i",{className:"fa fa-file"}),r.a.createElement("br",null),"Open a file")))),r.a.createElement("div",{className:N?"col-md-3 h-100":"d-none"},r.a.createElement(qe,null))))})),ze=window.innerWidth>800,He=[{name:"Collections",link:"/request",fa:" fa fa-th"}];var Ve=Object(s.b)((function(e){return{network:e.network,app:e.app,notifications:e.notifications,socket:e.socket}}),{loading:function(e){return function(t){t(e?{type:f}:{type:p})}},setUserData:function(e){return function(t){t({type:h,payload:e})}},toggleDarkMode:function(){return function(e){e({type:E})}},setFinishedAuthenticationAttempt:function(){return function(e){e({type:g})}},setNotifications:function(e){return function(t){t({type:D,payload:e})}}})((function(e){var t=Object(n.useState)(!ze),a=Object(Q.a)(t,2),c=a[0],i=a[1],l=Object(n.useState)(0),s=Object(Q.a)(l,2),u=s[0],m=s[1],d=Object(n.useState)(""),f=Object(Q.a)(d,2),p=f[0],v=f[1],b=Object(n.useState)(C()||""),h=Object(Q.a)(b,2),E=h[0],g=h[1],y=Object(n.useState)([]),k=Object(Q.a)(y,2),N=k[0],O=k[1],x=Object(n.useState)(null),w=Object(Q.a)(x,2),S=w[0],A=w[1],I=He[u],M=Object(n.useRef)(null),D=Object(n.useRef)(0),L=e.app.darkMode;function q(){e.toggleDarkMode()}Object(n.useEffect)((function(){var e,t;return window.matchMedia("(prefers-color-scheme: dark)").matches&&"true"!=T()&&"true"!=R()&&(e="We detected your ".concat(ze?"device":"phone"," is in dark mode, Do you want to change to dark mode ?"),new Promise((function(a,n){ue.next({text:e,body:t,cb:function(e,t){t?n(e):a(e)}})}))).then((function(e){e&&q()})).catch((function(){F("true")})),Ce.subscribe((function(e){O(e)})),window.addEventListener("contextmenu",(function(e){return e.preventDefault()})),E&&De.initializeAndListen(E),function(){}}),[]),Object(n.useEffect)((function(){if(1==D.current){var e=new URLSearchParams(window.location.search).get("requestTree");e&&V("openRequest",e)}return D.current++,function(){}}),[N]),Object(n.useEffect)((function(){var e=function e(){ze||c?window.removeEventListener("scroll",e):i(!0)};return Object(Te.setTimeout)((function(){window.addEventListener("scroll",e)}),1e3),function(){window.removeEventListener("scroll",e)}}),[c]),e.app.finishedAuthenticationAttempt;var _=e.app.userData;function z(e){var t=e.split("/");return t[t.length-1]}function H(t){var a=u+t;e.history.push(He[a].link),m(a)}function V(e,t,a){return U.apply(this,arguments)}function U(){return(U=Object($.a)(K.a.mark((function t(a,n,r){var c,i,l,o;return K.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if("toggleFolder"!=a){t.next=4;break}Se.treeDataModifier({emit:!0},n,(function(e){e.isFolderOpened=!e.isFolderOpened})),t.next=40;break;case 4:if("openRequest"!=a){t.next=8;break}try{c=Se.treeDataModifier({emit:!1},n).c,e.history.push(window.location.pathname+"?requestTree="+n),v(n),re.next({request:c,tree:n})}catch(r){}t.next=40;break;case 8:if("delete"!=a){t.next=15;break}Se.treeDataModifier({emit:!0},n,(function(e,t){for(var a=0;a<t.length;a++){t[a].id==e.id&&(t[a]=!1)}})),De.removeFromTrackerIfExist(z(n)),Se.generateRequestHash(),Se.persist(),t.next=40;break;case 15:if("rename"!=a){t.next=24;break}return t.next=18,ve("New Name");case 18:i=t.sent,Se.treeDataModifier({emit:!0},n,(function(e,t){e.name=i})),Se.generateRequestHash(),Se.persist(),t.next=40;break;case 24:if("create-request"!=a){t.next=33;break}return t.next=27,ve("Request Name");case 27:l=t.sent,Se.treeDataModifier({emit:!0},n,(function(e,t){e?e.children.push({id:te(),name:l,type:"emit",event:""}):(console.log(t),t.push({id:te(),name:l,type:"emit",event:""}))})),Se.generateRequestHash(),Se.persist(),t.next=40;break;case 33:if("create-folder"!=a){t.next=40;break}return t.next=36,ve("Folder Name");case 36:o=t.sent,Se.treeDataModifier({emit:!0},n,(function(e,t){e?e.children.push({id:te(),name:o,isFolder:!0,children:[]}):t.push({id:te(),name:o,isFolder:!0,children:[]})})),Se.generateRequestHash(),Se.persist();case 40:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function B(e){e?(M.current=function(e){A(null)},window.addEventListener("click",M.current)):window.removeEventListener("click",M.current),A(e)}function W(e){var t=e.data;if(!t)return r.a.createElement(r.a.Fragment,null);var a=(e.tree||"")+"/"+t.id,n=(e.treeName||"")+"/"+t.name;return r.a.createElement("div",{className:"text-color-default cursor"},t.isFolder?r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{onContextMenu:function(e){B({tree:a,x:e.pageX,y:e.pageY,isFolder:!0})},className:"p-1 hover-collection ",onClick:function(){return V("toggleFolder",a,n)}},r.a.createElement("i",{style:{width:"15px"},className:"fa mr-1 "+(t.isFolderOpened?"fa-angle-down":"fa-angle-right")}),t.name),t.isFolderOpened&&r.a.createElement("div",{className:"border-left ml-1"}," ",r.a.createElement("div",{style:{paddingLeft:"10px"}},t.children.map((function(e,t){return r.a.createElement("div",null,r.a.createElement(W,{key:t+a,tree:a,treeName:n,data:e}))})))," ")):r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{onContextMenu:function(e){B({tree:a,x:e.pageX,y:e.pageY,isFolder:!1})},className:"p-1 hover-collection "+(a==p?"bg-dark-light":""),onClick:function(){return V("openRequest",a,n)}}," ",r.a.createElement("small",{className:"p-1  font-weight-bold "+("emit"==t.type?"text-primary":"text-secondary")},t.type)," ",t.name)))}function J(e){return r.a.createElement("div",{className:" border text-color-default "+(L?"bg-app-dark":"bg-white"),style:{position:"fixed",zIndex:"auto",top:S.y+"px",left:S.x+"px"}},S.isFolder&&r.a.createElement("div",{onClick:function(){return V("create-request",S.tree)},className:"p-1 cursor hover-collection "}," ",r.a.createElement("i",{className:" fa fa fa-file-medical mr-2 "+(L?"text-white":"text-dark")})," Create Request"),S.isFolder&&r.a.createElement("div",{onClick:function(){return V("create-folder",S.tree)},className:"p-1 cursor hover-collection "}," ",r.a.createElement("i",{className:" fa fa-folder-plus mr-2 "+(L?"text-white":"text-dark")})," Create Folder"),r.a.createElement("div",{onClick:function(){return V("rename",S.tree)},className:"p-1 cursor hover-collection "}," ",r.a.createElement("i",{className:" fa fa-pen mr-2 "+(L?"text-white":"text-dark")})," Rename"),r.a.createElement("div",{onClick:function(){return V("delete",S.tree)},className:"p-1 cursor hover-collection "}," ",r.a.createElement("i",{className:"text-danger fa fa-trash mr-2"})," Delete"))}return(e.notifications||[]).filter((function(e){return!e.read})),r.a.createElement(r.a.Fragment,null,_?r.a.createElement("div",{className:(c?"Layout ":"Layout sidebar-max ")+(L?"bg-app-dark":"")},r.a.createElement("div",{className:"ml-2 mt-2 mb-2 sidebar border box-shadow pt-3 "+(L?"bg-app-dark":"bg-app-default")},r.a.createElement("div",{className:"pl-4  sidebar-logo text-color-default mb-4"},r.a.createElement("div",{className:"d-inline-block sidebar-nav-inner"},r.a.createElement("span",{style:{marginLeft:"-5px"},onClick:function(){return i(!c)},className:"text-center mb-2 d-block"},r.a.createElement("img",{style:{width:"30px",height:"30px"},src:"/logo.png",className:" mr-3"}),!c&&r.a.createElement("b",{className:"text-dark pt-2",style:{fontSize:"25px"}},"PlugMan ")))),_&&r.a.createElement("div",null,r.a.createElement("div",{className:"navbar-ticker border-top border-bottom pt-2 pb-2"},r.a.createElement("div",{className:"navbar-ticker-left text-color-default"},u>0&&r.a.createElement("div",{onClick:function(){return H(-1)},className:"w-100 h-100"},r.a.createElement("i",{className:"fa fa-angle-left"}))),r.a.createElement("div",{className:"navbar-ticker-main sidebar-nav text-color-default text-dark"},r.a.createElement("div",{className:"sidebar-nav-inner"},r.a.createElement("i",{className:I.fa}),r.a.createElement("span",{className:"sidebar-text"},I.name))),r.a.createElement("div",{className:"navbar-ticker-right text-color-default"},u<He.length-1&&r.a.createElement("div",{onClick:function(){return H(1)},className:"w-100 h-100"},r.a.createElement("i",{className:"fa fa-angle-right"}))))),0==u&&r.a.createElement("div",null,r.a.createElement("div",{className:"pr-2 pl-2 pb-1 pt-1  border-bottom"},r.a.createElement("span",{onClick:function(){V("create-request","/")},className:"cursor mr-2"},r.a.createElement("i",{className:"fa fa-file-medical"})),r.a.createElement("span",{onClick:function(){V("create-folder","/")},className:"cursor mr-2"},r.a.createElement("i",{className:"fa fa-folder-plus"}))),r.a.createElement("div",{style:{height:"calc(100vh - 300px)",overflowY:"auto"}},r.a.createElement("div",{className:"pt-2",style:{marginLeft:"10px",whiteSpace:"nowrap",width:"100%",overflow:"auto"}},S&&r.a.createElement(J,null),N.map((function(e){return r.a.createElement(W,{data:e})}))))),r.a.createElement("div",{className:"p-2",style:{position:"absolute",bottom:"30px"}},r.a.createElement("input",{onChange:function(e){g(e.target.value)},className:"form-control small",value:E,placeholder:"Enter socket url"}),r.a.createElement("div",{className:"mt-1"},e.socket.status.connected?r.a.createElement("button",{onClick:function(){De.disconnect()},className:"btn btn-sm btn-outline-primary"},"Disconnect"):r.a.createElement(r.a.Fragment,null," ",r.a.createElement("button",{onClick:function(){j(E),De.initialize(E)},className:"btn btn-sm btn-primary"},"Connect"),r.a.createElement("br",null),r.a.createElement("small",{onClick:function(){De.initializeAndListen(E)},className:"text-primary cursor  "},"Connect and fire all events"))))),r.a.createElement("div",{className:"topbar "+(L?"bg-app-dark":"bg-app-default")},r.a.createElement("span",{"app-data-intro":"Displays the current page you are on. Can also click here to show or hide sidebar","app-data-step":"2",className:"small "},r.a.createElement("span",{className:"change-in-dark-1"},r.a.createElement("b",null,"  ",e.app.title.title||r.a.createElement(r.a.Fragment,null,"Inngle"),e.app.title.image&&r.a.createElement(Le,{className:"ml-2",src:e.app.title.image,alt:e.app.title.title,style:{width:"25px",height:"25px",borderRadius:"50%"}}),e.app.title.icon&&r.a.createElement("i",{className:"ml-2 "+e.app.title.icon}," ")))),r.a.createElement("div",{className:"float-right"},e.network.loading&&r.a.createElement("i",{style:{position:"relative",top:"3px"},className:" fa fa-sync spin mr-2"}),_&&r.a.createElement(r.a.Fragment,null,!1),r.a.createElement("span",{className:"cursor text-center"},r.a.createElement("span",{style:{top:"5px",position:"relative"},onClick:q,className:"pl-2"},L?r.a.createElement("i",{className:"text-white fa fa-sun"}):r.a.createElement("i",{style:{fontSize:"20px"},className:" far fa-moon"}))),!1)),r.a.createElement("div",{onClick:function(){ze||c||i(!0)},style:{height:"100vh"},className:"content "+(L?"bg-app-dark":"bg-app-default")},r.a.createElement(o.d,null,r.a.createElement(o.b,{exact:!0,path:"/"},r.a.createElement(o.a,{to:"/dashboard"})),r.a.createElement(o.b,{exact:!0,path:"/dashboard",component:Ee}),r.a.createElement(o.b,{exact:!0,path:"/Request",component:_e}),r.a.createElement(o.a,{path:"**",to:"/404"})))):r.a.createElement("div",{className:"splash-container "+(L?"bg-app-dark":"")},r.a.createElement("div",{className:"d-inline-block"},r.a.createElement("img",{src:"/logo.png"}),r.a.createElement("br",null),r.a.createElement("div",{className:"loader"},r.a.createElement("div",{className:"bar bg-primary"})))))}));a(155),a(156);var Ue=function(e){function t(){e.onClose&&e.onClose()}return r.a.createElement("div",{className:"Modal Modal-center ",style:{zIndex:"loading"===e.type?100:e.zIndex||30},onClick:function(a){a.target.className.match("Modal-center")&&"loading"!==e.type&&!e.preventCloseOnClickOutside&&t()}},r.a.createElement("div",{className:"Modal-inner p-3 rounded"+("loading"===e.type?" ":" bg-white")},r.a.createElement("div",{className:"Modal-inner-heading"},r.a.createElement("div",{className:"Modal-inner-heading-text"},r.a.createElement("h4",{className:"font-weight-bold"},e.title)),"loading"!==e.type&&r.a.createElement("div",{className:"Modal-inner-heading-close-container"},r.a.createElement("div",{onClick:t,className:"Modal-close bg-danger"},r.a.createElement("i",{className:"fa fa-close text-white"})))),!e.jsx&&r.a.createElement("div",{dangerouslySetInnerHTML:{__html:e.children}}),e.jsx&&e.children,"loading"===e.type&&r.a.createElement("div",{className:"text-center"},r.a.createElement(Le,{src:"/assets/loader.svg"}))))};var Be=function(){var e=Object(n.useState)(null),t=Object(Q.a)(e,2),a=t[0],c=t[1],i=Object(n.useState)(null),l=Object(Q.a)(i,2),o=l[0],s=l[1],u=Object(n.useState)(null),m=Object(Q.a)(u,2),f=m[0],p=m[1],v=Object(n.useState)(null),b=Object(Q.a)(v,2),h=b[0],E=b[1],g=Object(n.useState)(null),y=Object(Q.a)(g,2),k=y[0],N=y[1],O=Object(n.useState)(null),x=Object(Q.a)(O,2),w=x[0],j=x[1],C=Object(n.useState)(null),S=Object(Q.a)(C,2),T=S[0],F=S[1],R=Object(n.useRef)(null);return Object(n.useEffect)((function(){ie.subscribe((function(e){c(e||null)})),le.subscribe((function(e){s(e||null)})),oe.subscribe((function(e){e?(p(e),R.current=e.cb):p(null)})),ue.subscribe((function(e){e&&(E(e),R.current=e.cb)})),se.subscribe((function(e){e&&N(e)})),me.subscribe((function(e){e?(j(e),R.current=e.cb):j(null)})),de.subscribe((function(e){e?(F(e),R.current=e.cb):F(null)}))}),[]),r.a.createElement(r.a.Fragment,null,o&&r.a.createElement(Ue,{jsx:!0,title:"Share",onClose:function(){s(null)}},r.a.createElement("div",{className:"text-center"},[{icon:"fa fa-copy",name:"Copy",onClick:function(){he(o),pe({message:"Successfully copied link"})}},{icon:"fab fa-whatsapp",name:"whatsapp",onClick:function(){he(o),window.open("whatsapp://send?".concat(encodeURIComponent(o)))}},{icon:"fab fa-twitter",name:"twitter",onClick:function(){window.open("https://twitter.com/intent/tweet?url=".concat(encodeURIComponent(o)),"_blank")}}].map((function(e,t){return r.a.createElement("div",{key:t,className:"mt-2"},r.a.createElement("div",{onClick:e.onClick,className:"d-inline-block"},r.a.createElement("i",{className:e.icon,style:{fontSize:"40px"}}),r.a.createElement("br",null),e.name))})))),f&&r.a.createElement(Ue,{type:f.type,title:f.title,onClose:function(){p(null),R.current(!0)}}," ",f.body),h&&r.a.createElement(Ue,{preventCloseOnClickOutside:!0,jsx:!0,title:"Confirm",onClose:function(){R.current(!1,!0),E(null)}}," ",h.text,h.body&&r.a.createElement(r.a.Fragment,null,r.a.createElement("br",null),r.a.createElement("span",{dangerouslySetInnerHTML:{__html:h.body}})),r.a.createElement("hr",null),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-6"},r.a.createElement("button",{onClick:function(){R.current(!0),E(null)},className:"btn btn-primary"},"Yes")),r.a.createElement("div",{className:"col-6 text-right"},r.a.createElement("button",{onClick:function(){R.current(!1),E(null)},className:"btn text-danger"},"No")))),k&&r.a.createElement(Ue,{zIndex:100,preventCloseOnClickOutside:!0,jsx:!0,title:"Alert",onClose:function(){N(null)}}," ",k.text,k.body&&r.a.createElement(r.a.Fragment,null,r.a.createElement("br",null),r.a.createElement("span",{dangerouslySetInnerHTML:{__html:k.body}}))),w&&r.a.createElement(Ue,{jsx:!0,preventCloseOnClickOutside:!0,title:w.title,onClose:function(){R.current(!1,!0),j(null)}},w.options.map((function(e,t){var a=e.option||e,n=e.info;return r.a.createElement("div",{key:t},r.a.createElement("input",{value:a,onChange:function(e){return j(Object(d.a)({},w,{value:e.target.value}))},name:"selector",type:"radio",className:"mr-2",id:"selector-"+a}),r.a.createElement("label",{htmlFor:"selector-"+a},a),n&&r.a.createElement("span",{className:"float-right each-select"},r.a.createElement("i",{className:"fa fa-question-circle "}),r.a.createElement("div",{className:"select-info bg-info rounded p-2 text-white"},n)),r.a.createElement("br",null))})),r.a.createElement("hr",null),r.a.createElement("div",{className:"text-center"},r.a.createElement("div",{className:"btn btn-group"},w.value&&r.a.createElement("button",{onClick:function(){R.current(w.value),j(null)},className:"btn btn-primary"},"Ok"),r.a.createElement("button",{onClick:function(){R.current(!1),j(null)},className:"btn btn-outline-danger"},"Cancel")))),T&&r.a.createElement(Ue,{jsx:!0,preventCloseOnClickOutside:!0,title:T.text,onClose:function(){R.current(!1,!0),F(null)}},r.a.createElement("input",{value:T.value,onChange:function(e){return F(Object(d.a)({},T,{value:e.target.value}))},className:"form-control"}),r.a.createElement("hr",null),r.a.createElement("div",{className:"text-center"},r.a.createElement("div",{className:"btn btn-group"},T.value&&r.a.createElement("button",{onClick:function(){R.current(T.value),F(null)},className:"btn btn-primary"},"Ok"),r.a.createElement("button",{onClick:function(){R.current(!1),F(null)},className:"btn btn-outline-danger"},"Cancel")))),a&&r.a.createElement("div",{className:"Alert animated pt-3 pl-3 "+(a.incoming?" fadeIn":"fadeOut")+(a.attention?" alert-attention":"")},r.a.createElement("div",{className:"d-inline-block animated alert-inner box-shadow rounded alert alert-".concat(a.type||"info")+(a.incoming?" slideInDown":" slideOutUp")},r.a.createElement("span",{dangerouslySetInnerHTML:{__html:a.message}}),a.attention&&r.a.createElement("div",null,r.a.createElement("hr",null),r.a.createElement("button",{onClick:function(){ie.next(Object(d.a)({},a,{incoming:!1})),setTimeout((function(){ie.next(null)}),500)},className:"btn btn-sm btn-"+(a.type||"info")},"Ok")))))},We=a(73),Je=a(74),Pe="";window.addEventListener("popstate",(function(e){Pe=window.location.pathname}));var Xe=function(e){Object(Je.a)(a,e);var t=Object(We.a)(a);function a(e){var n;return Object(Z.a)(this,a),(n=t.call(this,e)).props=void 0,n.myRef=void 0,n.props=e,n.myRef=r.a.createRef(),n}return Object(ee.a)(a,[{key:"componentDidMount",value:function(){this.sanitizeHash(this.props)}},{key:"sanitizeHash",value:function(e){var t=e.location.hash;setTimeout((function(){var e;"#add"==t&&(null===(e=document.querySelector(".add"))||void 0===e||e.click())}),1e3)}},{key:"componentDidUpdate",value:function(e){if(this.props.location.pathname!==e.location.pathname&&this.props.location.pathname!==Pe){this.sanitizeHash(this.props),window.scrollTo(0,0);var t,a=new URLSearchParams(e.location.search||this.props.location.search),n={previous:(e.location.pathname||"").replace("/",""),current:(this.props.location.pathname||"").replace("/","")},r=Object(ye.a)(a);try{for(r.s();!(t=r.n()).done;){var c=t.value,i=Object(Q.a)(c,2),l=i[0],o=i[1];"current"!==l&&"previous"!==l&&(n[l]=o)}}catch(u){r.e(u)}finally{r.f()}var s=new URLSearchParams(n).toString();window.history.replaceState(null,"",window.location.pathname+(this.props.location.hash?this.props.location.hash:"")+"?".concat(s))}}},{key:"render",value:function(){return r.a.createElement("div",null)}}]),a}(n.Component),Ye=Object(o.g)(Xe);X.monaco.init().then((function(e){e.editor.defineTheme("plugman-light",{base:"vs",inherit:!0,colors:{"editor.background":"#f6f7fa"},rules:[{token:"green",background:"FF0000",foreground:"00FF00",fontStyle:"italic"},{token:"red",foreground:"FF0000",fontStyle:"bold underline"},{background:"000000"},{foreground:"FFFFFF"}]})}));var Ge=new Ne;window.addEventListener("resize",(function(){Ge.start((function(){return ce.next(!0)}),500)}));var Ke=function(){return Object(n.useEffect)((function(){return function(){}}),[]),r.a.createElement(s.a,{store:P},r.a.createElement(Be,null),r.a.createElement(l.a,{basename:"/plugman"}),r.a.createElement(l.a,null,r.a.createElement(Ye,null),r.a.createElement(o.d,null,r.a.createElement(o.b,{path:"/",component:Ve}))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(Ke,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){}))},75:function(e,t,a){e.exports=a(157)},80:function(e,t,a){},81:function(e,t,a){},86:function(e){e.exports=JSON.parse('{"prod":true}')}},[[75,1,2]]]);
//# sourceMappingURL=main.8963a17c.chunk.js.map